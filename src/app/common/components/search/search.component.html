<div class="search">
    <div class="card">
        <div class="search__form">
            <input type="text" class="search__input" id="search-text" aria-describedby="search-text" 
                [(ngModel)]="searchText" placeholder="Enter text to search" 
                autofocus  autocomplete="off">
                <span class="search__clear" *ngIf="!!searchText" (click)="clear()">x</span>
        </div>
        <div class="search-results-wrapper" *ngIf="!!searchText">
            <ul class="list-group list-group-flush">
            <!-- results of ngFor is passed to appFilter with argument searchText -->
                <li class="list-group-item" *ngFor="let product of (products$ | async) | filter: searchText"
                    appFilterHighlight [searchedWord]="searchText" [product]="product"  
                    [classToApply]="'highlighted'" [setTitle]="true">
                    <a class="search__link" [routerLink]="['/product', product._id]">{{product.name}}</a>
                </li>
            </ul>
        </div>
    </div>
  </div>